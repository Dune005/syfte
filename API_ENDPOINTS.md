# Syfte Backend API Endpunkte

### ğŸ¯ Goals (Sp### ğŸ¯ Goals (Sparziele)
- `GET /api/goals` - Alle eigenen Sparziele abrufen âœ…
- `POST /api/goals/create` - Neues Sparziel erstellen (Auto-Favorite fÃ¼r erstes Ziel) âœ…
- `GET /api/goals/:id` - Sparziel Details abrufen âœ…
- `PUT /api/goals/:id` - Sparziel bearbeiten âœ…
- `DELETE /api/goals/:id` - Sparziel lÃ¶schen âœ…
- `POST /api/goals/:id/complete` - Sparziel als erreicht markieren âœ…
- `GET /api/goals/shared` - Geteilte Sparziele abrufen âœ…
- `POST /api/goals/:id/share` - Sparziel mit Freunden teilen âœ…
- `DELETE /api/goals/:id/share` - Sharing entfernen âœ… `GET /api/goals` - Alle eigenen Sparziele abrufen âœ…
- `POST /api/goals/create` - Neues Sparziel erstellen (Auto-Favorite fÃ¼r erstes Ziel) âœ…
- `GET /api/goals/:id` - Sparziel Details abrufen âœ…
- `PUT /api/goals/:id` - Sparziel bearbeiten âœ…
- `DELETE /api/goals/:id` - Sparziel lÃ¶schen âœ…
- `PUT /api/goals/:id/favorite` - Sparziel als Favorit markieren/entfernen âœ…
- `POST /api/goals/:id/complete` - Sparziel als erreicht markieren âœ…
- `GET /api/goals/:id/actions` - VerfÃ¼gbare Aktionen fÃ¼r Sparziel abrufen âœ…
- `POST /api/goals/:id/actions` - Aktionen zu Sparziel zuweisen âœ…

### ğŸ¤ Gemeinsame Sparziele (Shared Goals)
- `GET /api/goals/shared` - Geteilte Sparziele abrufen
- `POST /api/goals/shared/create` - Gemeinsames Sparziel mit Freunden erstellen âœ…
- `POST /api/goals/:id/share` - Sparziel nachtrÃ¤glich mit Freunden teilen
- `DELETE /api/goals/:id/share` - Sharing entfernenntication Endpoints
- `POST /api/auth/register` - Benutzer registrieren (firstName, lastName, username, email, password) âœ…
- `POST /api/auth/login` - Benutzer anmelden (usernameOrEmail, password) âœ…
- `GET /api/auth/me` - Aktuellen Benutzer abrufen (mit Profildaten) âœ…
- `POST /api/auth/logout` - Benutzer abmelden âœ…
- `POST /api/auth/forgot-password` - Passwort zurÃ¼cksetzen anfordern âœ…
- `POST /api/auth/reset-password` - Passwort mit Token zurÃ¼cksetzen âœ…
- `POST /api/auth/google` - Google OAuth Login (spÃ¤ter)

## ğŸ‘¤ User Management & Profile
- `PUT /api/profile/update` - Profil bearbeiten (firstName, lastName, profileImageUrl) âœ…
- `POST /api/users/change-password` - Passwort Ã¤ndern âœ…
- `DELETE /api/users/account` - Account lÃ¶schen âœ…
- `GET /api/users/settings` - User Settings abrufen âœ…
- `PUT /api/users/settings` - Settings Ã¤ndern (timezone, dailyPushHour, locale) âœ…

**Note:** Profildaten werden Ã¼ber `GET /api/auth/me` abgerufen und enthalten:
- Benutzerdaten (firstName, lastName, email, profileImageUrl, totalSavedChf)
- Aktuelles/Lieblings-Sparziel (currentGoal)
- Aktuelle Streak-Informationen (current, longest)
- Alle erreichten Achievements mit Bildern und Details

## ï¿½ Dashboard (Hauptseite)
- `GET /api/dashboard` - Komplette Dashboard-Daten âœ…
  - Benutzerdaten (Profilbild, Name, Gesamtsumme)
  - Heute gespart (CHF Betrag)
  - Alle Sparziele mit Fortschrittsbalken
  - Aktuelle Streak-Informationen
  - VerfÃ¼gbare Schnell-Sparaktionen

## ï¿½ğŸ¯ Goals (Sparziele)
- `GET /api/goals` - Alle eigenen Sparziele abrufen
- `POST /api/goals/create` - Neues Sparziel erstellen (Auto-Favorite fÃ¼r erstes Ziel) âœ…
- `GET /api/goals/:id` - Sparziel Details abrufen
- `PUT /api/goals/:id` - Sparziel bearbeiten
- `DELETE /api/goals/:id` - Sparziel lÃ¶schen
- `POST /api/goals/:id/complete` - Sparziel als erreicht markieren
- `GET /api/goals/shared` - Geteilte Sparziele abrufen
- `POST /api/goals/:id/share` - Sparziel mit Freunden teilen
- `DELETE /api/goals/:id/share` - Sharing entfernen

## ğŸ’° Savings (SparvorgÃ¤nge)
- `GET /api/savings` - Alle SparvorgÃ¤nge abrufen (mit Pagination) âœ…
- `POST /api/savings/quick-add` - Schneller Betrag zum Lieblingsziel âœ…
- `POST /api/savings/add-with-action` - Sparvorgang mit vordefinierter Aktion âœ…
- `GET /api/savings/:id` - Sparvorgang Details âœ…
- `DELETE /api/savings/:id` - Sparvorgang lÃ¶schen âœ…
- `GET /api/savings/stats` - Spar-Statistiken (heute, diese Woche, Monat) âœ…
- `GET /api/savings/by-goal/:goalId` - SparvorgÃ¤nge fÃ¼r bestimmtes Ziel âœ…

## ğŸ† Achievements (Auszeichnungen)
- `GET /api/achievements` - Alle verfÃ¼gbaren Achievements âœ…
- `GET /api/achievements/earned` - Erreichte Achievements des Users âœ…
- `POST /api/achievements/:id/claim` - Achievement beanspruchen âœ…

## âš¡ Actions (Sparaktionen)
- `GET /api/actions` - Alle verfÃ¼gbaren Sparaktionen abrufen (global + eigene) âœ…
- `POST /api/actions/create` - Neue Sparaktion erstellen (fÃ¼r User) âœ…
- `GET /api/actions/my` - Eigene erstellte Sparaktionen abrufen âœ…
- `PUT /api/actions/:id` - Sparaktion bearbeiten âœ…
- `DELETE /api/actions/:id` - Sparaktion deaktivieren âœ…

## ğŸ“ File Upload
- `POST /api/upload/image` - Bild hochladen (fÃ¼r Profile/Goals) âœ…
  - UnterstÃ¼tzte Formate: JPG, PNG, WebP
  - Max. DateigrÃ¶ÃŸe: 5MB
  - Automatische UUID-Generierung fÃ¼r Dateinamen

## ğŸ”¥ Streaks (Spar-Serien)
- `GET /api/streaks/current` - Aktuelle Streak des Users âœ…
- `GET /api/streaks/history` - Streak-Historie âœ…
- `POST /api/streaks/update` - Streak aktualisieren (automatisch bei Savings)

## ğŸ‘¥ Friends (Freundschaften)
- `GET /api/friends` - Freundesliste abrufen âœ…
- `POST /api/friends/request` - Freundschaftsanfrage senden âœ…
- `GET /api/friends/requests` - Offene Anfragen abrufen âœ…
- `PUT /api/friends/request/:id/accept` - Anfrage akzeptieren âœ…
- `PUT /api/friends/request/:id/decline` - Anfrage ablehnen âœ…
- `DELETE /api/friends/:id` - Freundschaft beenden âœ…
- `GET /api/friends/search` - Benutzer suchen (per Username) âœ…
- `GET /api/friends/leaderboard` - Bestenliste aller Freunde âœ…
  - Parameter: ?timeframe=all_time|month|week
  - Zeigt Ranking nach gespartem Betrag mit Positionen

## ğŸ”” Push Notifications (PWA)
- `POST /api/push/subscribe` - Push Subscription registrieren âœ…
- `DELETE /api/push/unsubscribe` - Push Subscription entfernen âœ…
- `POST /api/push/test` - Test-Benachrichtigung senden âœ…
- **Feature:** TÃ¤glich automatische Push-Benachrichtigungen zur eingestellten Zeit

## ğŸ“Š Analytics & Export
- `GET /api/analytics/dashboard` - Dashboard-Daten (Ãœbersicht) âœ…
- `GET /api/analytics/savings` - Detaillierte Sparverhalten-Analyse âœ…
  - **Monatstrends:** Sparsummen der letzten 12 Monate
  - **ZielaufschlÃ¼sselung:** Verteilung nach Sparzielen
  - **Aktionsanalyse:** Meistgenutzte Sparaktionen
  - **Wochentag-Muster:** Durchschnittliches Sparverhalten je Wochentag
  - **30-Tage-Trend:** TÃ¤gliche AktivitÃ¤t der letzten 30 Tage
  - **Ãœbersichtsstatistiken:** Total, Durchschnitt, Min/Max BetrÃ¤ge
- `GET /api/analytics/goals-progress` - Fortschritt aller Sparziele âœ…
- `GET /api/export/savings` - Spardaten als CSV/JSON exportieren âœ…
- `GET /api/export/goals` - Sparziele als CSV/JSON exportieren âœ…

## ğŸ›  System/Health
- `GET /api/health` - System Health Check âœ…
- `GET /api/version` - API Version Info âœ…